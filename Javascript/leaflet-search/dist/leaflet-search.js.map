{"version":3,"file":"leaflet-search.js","sources":["../src/providers/JsonProvider.js","../src/providers/Map4DProvider.js","../src/providers/CocCocProvider.js","../src/providerMappings.js"],"sourcesContent":["import {JsonProvider as BaseJsonProvider} from 'leaflet-geosearch'\r\nimport {isString} from \"lodash-es\";\r\n\r\nclass JsonProvider extends BaseJsonProvider {\r\n    getUrl(url, params) {\r\n        let {cors} = this.options\r\n        cors = isString(cors) ? cors : (cors ? 'https://cors-anywhere.herokuapp.com' : false)\r\n        return `${cors ? cors+'/' : ''}${url}?${this.getParamString(params)}`;\r\n    }\r\n}\r\n\r\nexport default JsonProvider","import JsonProvider from \"./JsonProvider\";\n\nclass Map4DProvider extends JsonProvider {\n    endpoint({ query, type }) {\n        const params = {\n            ...this.options.params,\n            text: query\n        }\n\n        return this.getUrl('https://api.map4d.vn/map/autosuggest', params);\n    }\n\n\n    parse({ data }) {\n        if(data.code !== 'ok') return [];\n\n        return data.result.map((r) => ({\n            x: r.location.lng,\n            y: r.location.lat,\n            label: r.address,\n            bounds: null, // Map4D API does not provide bounds\n            raw: r\n        }));\n    }\n}\n\nexport default Map4DProvider\n","import JsonProvider from \"./JsonProvider\";\r\n\r\nclass CocCocProvider extends JsonProvider {\r\n    endpoint({query}) {\r\n        const url = 'https://map.coccoc.com/map/search.json',\r\n            params = {\r\n                suggestions: true,\r\n                pos_accuracy: 1504,\r\n                ...this.options.params,\r\n                query\r\n            }\r\n\r\n        return this.getUrl('https://map.coccoc.com/map/search.json', params);\r\n    }\r\n\r\n    parse({data}) {\r\n        if (!data.result) return [];\r\n\r\n        return data.result.poi.map((r) => ({\r\n            x: r.gps.longitude,\r\n            y: r.gps.latitude,\r\n            label: r.title,\r\n            bounds: null, // CocCoc API does not provide bounds\r\n            raw: r\r\n        }));\r\n    }\r\n}\r\n\r\nexport default CocCocProvider\r\n","import {\r\n    AlgoliaProvider,\r\n    BingProvider,\r\n    EsriProvider,\r\n    GoogleProvider,\r\n    HereProvider,\r\n    LocationIQProvider,\r\n    OpenCageProvider,\r\n    OpenStreetMapProvider\r\n} from 'leaflet-geosearch'\r\n\r\nimport Map4DProvider from './providers/Map4DProvider'\r\n\r\nexport default {\r\n    'algolia': AlgoliaProvider,\r\n    'bing': BingProvider,\r\n    'esri': EsriProvider,\r\n    'google': GoogleProvider,\r\n    'here': HereProvider,\r\n    'locationiq': LocationIQProvider,\r\n    'opencage': OpenCageProvider,\r\n    'openstreetmap': OpenStreetMapProvider,\r\n    'map4d': Map4DProvider,\r\n}\r\n\r\n"],"names":["JsonProvider","getUrl","url","params","cors","this","options","isString","getParamString","BaseJsonProvider","Map4DProvider","endpoint","query","text","parse","data","code","result","map","r","x","location","lng","y","lat","label","address","bounds","raw","CocCocProvider","suggestions","pos_accuracy","poi","gps","longitude","latitude","title","algolia","AlgoliaProvider","bing","BingProvider","esri","EsriProvider","google","GoogleProvider","here","HereProvider","locationiq","LocationIQProvider","opencage","OpenCageProvider","openstreetmap","OpenStreetMapProvider","map4d"],"mappings":"icAGMA,0FACFC,OAAA,SAAOC,EAAKC,OACHC,EAAQC,KAAKC,QAAbF,KAEL,QADAA,EAAOG,WAASH,GAAQA,IAAQA,GAAO,uCACtBA,EAAK,IAAM,IAAKF,MAAOG,KAAKG,eAAeL,OAJzCM,gBCDrBC,kGACFC,SAAA,YAAWC,IACDT,OACCE,KAAKC,QAAQH,QAChBU,OAHGD,QAMP,YAAYX,OAAO,uCAAwCE,MAI/DW,MAAA,gBAAQC,IAAAA,KACJ,MAAiB,OAAdA,EAAKC,KAAsB,GAEvBD,EAAKE,OAAOC,IAAI,SAACC,SAAO,CAC3BC,EAAGD,EAAEE,SAASC,IACdC,EAAGJ,EAAEE,SAASG,IACdC,MAAON,EAAEO,QACTC,OAAQ,KACRC,IAAKT,SAnBWnB,GCAtB6B,kGACFlB,SAAA,gBAEQR,KACI2B,aAAa,EACbC,aAAc,MACX1B,KAAKC,QAAQH,QAChBS,QANFA,QASN,YAAYX,OAAO,yCAA0CE,MAGjEW,MAAA,gBAAOC,IAAAA,KACH,OAAKA,EAAKE,OAEHF,EAAKE,OAAOe,IAAId,IAAI,SAACC,SAAO,CAC/BC,EAAGD,EAAEc,IAAIC,UACTX,EAAGJ,EAAEc,IAAIE,SACTV,MAAON,EAAEiB,MACTT,OAAQ,KACRC,IAAKT,KAPgB,OAdJnB,KCWd,CACXqC,QAAWC,kBACXC,KAAQC,eACRC,KAAQC,eACRC,OAAUC,iBACVC,KAAQC,eACRC,WAAcC,qBACdC,SAAYC,mBACZC,cAAiBC,wBACjBC,MAAS3C"}